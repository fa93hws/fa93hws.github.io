(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{416:function(t,e,n){"use strict";var o=function(){return function(t){void 0===t&&(t={}),Object.assign(this,t)}}();e.a=o},418:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o,a=n(416),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),Object.defineProperty(e.prototype,"displayName",{get:function(){return""===this.name||null===this.name||void 0===this.name?"无名氏":this.name},enumerable:!0,configurable:!0}),e}(a.a)},435:function(t,e,n){"use strict";var o=n(406),a=n.n(o),c=n(35),r=n(418),i=function(t,e,n,o){var a,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(r=(c<3?a(r):c>3?a(e,n,r):a(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},s=new(function(){function t(){this.clientId="Iv1.982f55cf525f853f",this.axiosInstance=a.a.create(),this.lsKey="access_token"}return t.prototype.auth=function(t){var e=["https://github.com/login/oauth/authorize"];e.push("?client_id="+this.clientId),e.push("&redirect_uri="+t),window.location.replace(e.join(""))},t.prototype.getToken=function(t){var e=this;return new Promise(function(n,o){var a="https://jjaoiq1l2h.execute-api.ap-southeast-2.amazonaws.com/production/?code="+t;e.axiosInstance.get(a).then(function(t){void 0!==t.data.access_token?(localStorage.setItem("access_token",t.data.access_token),n(t.data.access_token)):o("access_token not appear")}).catch(o)})},t.prototype.saveToken=function(t){localStorage.setItem(this.lsKey,t)},t.prototype.loadToken=function(){var t=localStorage.getItem(this.lsKey);return null===t?"":t},t.prototype.removeToken=function(){localStorage.removeItem(this.lsKey)},t.prototype.getUser=function(t){var e=this;return new Promise(function(n,o){e.axiosInstance.get("https://api.github.com/user?access_token="+t).then(function(t){n(new r.a(t.data))}).catch(o)})},i([c.a],t.prototype,"auth",null),i([c.a],t.prototype,"getToken",null),i([c.a],t.prototype,"saveToken",null),i([c.a],t.prototype,"loadToken",null),i([c.a],t.prototype,"removeToken",null),i([c.a],t.prototype,"getUser",null),t}());e.a=s},515:function(t,e,n){t.exports={container:"container--3VqGs",article:"article--1nWjO",heading:"heading--WDvj7"}},520:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),c=n(118),r=n(435);var i=n(67),s=n(66),u=n(515),l=n.n(u);function p(){alert("回调参数错误"),window.location.replace("/")}e.default=Object(c.a)(function(t){var e=i.b.useState("title")[1];return Object(o.useEffect)(function(){e("Auth");var n=function(t){"?"===t[0]&&(t=t.slice(1));var e=t.split("&"),n={};return e.forEach(function(t){var e=t.split("="),o=e[0],a=e[1];n[o]=a}),n}(t.location.search);void 0!==n.code&&void 0!==n.blog_number?r.a.getToken(n.code).then(function(t){r.a.saveToken(t),window.location.replace("/blog/"+n.blog_number)}).catch(function(t){r.a.removeToken(),p()}):p()},[]),a.a.createElement("main",{className:l.a.container},a.a.createElement("article",{className:l.a.article},a.a.createElement("h1",{className:l.a.heading},"登录中..."),a.a.createElement(s.a,null)))})}}]);